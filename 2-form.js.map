{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\n\nlet formData = { email: '', message: '' };\nconst forma = document.querySelector('.feedback-form');\n\n// Заповнюємо полля вводу при завантаженні сторінки, за умови, що локальне сховище не порожнє\n\ndocument.addEventListener('DOMContentLoaded', setUserData);\n\nfunction setUserData() {\n  const data = localStorage.getItem('feedback-form-state');\n\n  if (data != null) {\n    const email = document.querySelector('.email');\n    const message = document.querySelector('.text');\n    const userData = JSON.parse(data);\n\n    if (userData.email != '') {\n      email.value = userData.email;\n    }\n    if (userData.message != '') {\n      message.value = userData.message;\n    }\n    formData = userData;\n  }\n}\n\n// Додаємо відстежування події вводу даних в поля і запис їх у сховище\n\nforma.addEventListener('input', event => {\n  const form = event.target;\n  const type = form.getAttribute('name');\n  if (type === 'email') {\n    formData.email = form.value;\n  } else if (type === 'message') {\n    formData.message = form.value;\n  }\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n});\n\n// Додаємо відстежування сабміту форми і очищення даних зі сховища\n\nforma.addEventListener('submit', event => {\n  event.preventDefault();\n  const form = event.target;\n  formData.email = form.elements.email.value.trim();\n  formData.message = form.elements.message.value.trim();\n\n  if (formData.email === '' || formData.message === '') {\n    alert('Fill please all fields');\n  } else {\n    form.reset();\n    console.log(formData);\n    localStorage.removeItem('feedback-form-state');\n    formData.email = '';\n    formData.message = '';\n  }\n});\n"],"names":["formData","forma","setUserData","data","email","message","userData","event","form","type"],"mappings":"wFAEA,IAAIA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACvC,MAAMC,EAAQ,SAAS,cAAc,gBAAgB,EAIrD,SAAS,iBAAiB,mBAAoBC,CAAW,EAEzD,SAASA,GAAc,CACrB,MAAMC,EAAO,aAAa,QAAQ,qBAAqB,EAEvD,GAAIA,GAAQ,KAAM,CAChB,MAAMC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAU,SAAS,cAAc,OAAO,EACxCC,EAAW,KAAK,MAAMH,CAAI,EAE5BG,EAAS,OAAS,KACpBF,EAAM,MAAQE,EAAS,OAErBA,EAAS,SAAW,KACtBD,EAAQ,MAAQC,EAAS,SAE3BN,EAAWM,CACZ,CACH,CAIAL,EAAM,iBAAiB,QAASM,GAAS,CACvC,MAAMC,EAAOD,EAAM,OACbE,EAAOD,EAAK,aAAa,MAAM,EACjCC,IAAS,QACXT,EAAS,MAAQQ,EAAK,MACbC,IAAS,YAClBT,EAAS,QAAUQ,EAAK,OAE1B,aAAa,QAAQ,sBAAuB,KAAK,UAAUR,CAAQ,CAAC,CACtE,CAAC,EAIDC,EAAM,iBAAiB,SAAUM,GAAS,CACxCA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,OACnBP,EAAS,MAAQQ,EAAK,SAAS,MAAM,MAAM,OAC3CR,EAAS,QAAUQ,EAAK,SAAS,QAAQ,MAAM,OAE3CR,EAAS,QAAU,IAAMA,EAAS,UAAY,GAChD,MAAM,wBAAwB,GAE9BQ,EAAK,MAAK,EACV,QAAQ,IAAIR,CAAQ,EACpB,aAAa,WAAW,qBAAqB,EAC7CA,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAEvB,CAAC"}